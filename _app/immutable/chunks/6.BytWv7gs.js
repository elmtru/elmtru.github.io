var _n=Object.freeze,An=Object.defineProperty;var fn=(e,n)=>_n(An(e,"raw",{value:_n(n||e.slice())}));import{s as ln,e as B,b as w,d as R,g as d,h as v,ag as gn,i as P,M as Hn,c as Q,as as En,a as H,f as E,Y as dn,S as bn,j as h,l as U,u as x,k as nn,m as sn,r as In,R as tn,N as M,O as y,P as Z,I as en,J as on,v as X,H as Ln,E as On,p as Fn}from"./scheduler.JiC8KFoJ.js";import{S as pn,i as un,t as C,g as Wn,f as Dn,a as T,b as cn,c as I,d as L,m as O,e as F}from"./index.C8QghjAH.js";import{C as Gn}from"./CodeLinks.NhsnNu6v.js";import{p as J}from"./index.BCZaT-VP.js";import"./Tooltip.svelte_svelte_type_style_lang.C6u2bunI.js";import"./entry.DKyDcpvo.js";import{e as $n}from"./each.A9v7PxhN.js";import{T as zn}from"./Toggle.C11kyO7w.js";import{a as Vn,C as Yn}from"./ColorScaleSelect.rR1hccnu.js";import{P as Kn}from"./PeriodicTable.C6ndjX78.js";import{e as hn}from"./extent.Ccx1MofX.js";import{T as Zn}from"./TableInset.DhGZlLRs.js";function vn(e,n,a){const o=e.slice();o[17]=n[a];const t=o[9](o[17]);o[18]=t;const s=o[0]&&o[9](o[17])===o[9](o[0]);return o[19]=s,o}const qn=e=>({option:e&2,selected:e&1,active:e&3}),Pn=e=>({option:e[17],selected:e[0],active:e[19]}),Un=e=>({option:e&2,selected:e&1,active:e&3}),Cn=e=>({option:e[17],selected:e[0],active:e[19]});function Xn(e){let n,a=e[18]+"",o;return{c(){n=B("span"),o=M(a),this.h()},l(t){n=w(t,"SPAN",{class:!0});var s=R(n);o=y(s,a),s.forEach(d),this.h()},h(){v(n,"class","svelte-z2iha1")},m(t,s){P(t,n,s),h(n,o)},p(t,s){s&2&&a!==(a=t[18]+"")&&Z(o,a)},d(t){t&&d(n)}}}function Jn(e){let n;const a=e[11].default,o=Q(a,e,e[10],Pn),t=o||Xn(e);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,c){t&&t.m(s,c),n=!0},p(s,c){o?o.p&&(!n||c&1027)&&x(o,a,s,s[10],n?sn(a,s[10],c,qn):nn(s[10]),Pn):t&&t.p&&(!n||c&2)&&t.p(s,n?c:-1)},i(s){n||(C(t,s),n=!0)},o(s){T(t,s),n=!1},d(s){t&&t.d(s)}}}function Tn(e){let n,a,o,t=!1,s,c,l,u,i,$;const b=e[11].option,_=Q(b,e,e[10],Cn),m=_||Jn(e);return u=En(e[16][0]),{c(){n=B("label"),a=B("input"),s=H(),m&&m.c(),c=H(),this.h()},l(k){n=w(k,"LABEL",{"aria-label":!0,class:!0});var f=R(n);a=w(f,"INPUT",{type:!0,name:!0,class:!0}),s=E(f),m&&m.l(f),c=E(f),f.forEach(d),this.h()},h(){v(a,"type","radio"),a.__value=o=e[17],dn(a,a.__value),v(a,"name",e[4]),a.disabled=e[5],a.required=e[6],v(a,"class","svelte-z2iha1"),v(n,"aria-label",e[7]),v(n,"class","svelte-z2iha1"),bn(n,"active",e[19]),u.p(a)},m(k,f){P(k,n,f),h(n,a),a.checked=a.__value===e[0],h(n,s),m&&m.m(n,null),h(n,c),l=!0,i||($=[U(a,"change",e[15]),U(a,"change",e[12]),U(a,"input",e[13]),U(a,"click",e[14])],i=!0)},p(k,f){(!l||f&2&&o!==(o=k[17]))&&(a.__value=o,dn(a,a.__value),t=!0),(!l||f&16)&&v(a,"name",k[4]),(!l||f&32)&&(a.disabled=k[5]),(!l||f&64)&&(a.required=k[6]),(t||f&3)&&(a.checked=a.__value===k[0]),_?_.p&&(!l||f&1027)&&x(_,b,k,k[10],l?sn(b,k[10],f,Un):nn(k[10]),Cn):m&&m.p&&(!l||f&1027)&&m.p(k,l?f:-1),(!l||f&128)&&v(n,"aria-label",k[7]),(!l||f&515)&&bn(n,"active",k[19])},i(k){l||(C(m,k),l=!0)},o(k){T(m,k),l=!1},d(k){k&&d(n),m&&m.d(k),u.r(),i=!1,In($)}}}function Qn(e){let n,a,o,t=$n(e[1]),s=[];for(let l=0;l<t.length;l+=1)s[l]=Tn(vn(e,t,l));const c=l=>T(s[l],1,1,()=>{s[l]=null});return{c(){n=B("div");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){n=w(l,"DIV",{id:!0,style:!0,class:!0});var u=R(n);for(let i=0;i<s.length;i+=1)s[i].l(u);u.forEach(d),this.h()},h(){v(n,"id",e[3]),v(n,"style",e[2]),v(n,"class",a=gn(e[8])+" svelte-z2iha1")},m(l,u){P(l,n,u);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(n,null);o=!0},p(l,[u]){if(u&1779){t=$n(l[1]);let i;for(i=0;i<t.length;i+=1){const $=vn(l,t,i);s[i]?(s[i].p($,u),C(s[i],1)):(s[i]=Tn($),s[i].c(),C(s[i],1),s[i].m(n,null))}for(Wn(),i=t.length;i<s.length;i+=1)c(i);Dn()}(!o||u&8)&&v(n,"id",l[3]),(!o||u&4)&&v(n,"style",l[2]),(!o||u&256&&a!==(a=gn(l[8])+" svelte-z2iha1"))&&v(n,"class",a)},i(l){if(!o){for(let u=0;u<t.length;u+=1)C(s[u]);o=!0}},o(l){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)T(s[u]);o=!1},d(l){l&&d(n),Hn(s,l)}}}function xn(e,n,a){let{$$slots:o={},$$scope:t}=n,{options:s}=n,{selected:c=null}=n,{style:l=null}=n,{id:u=null}=n,{name:i=null}=n,{disabled:$=!1}=n,{required:b=!1}=n,{aria_label:_=null}=n;const m=r=>r instanceof Object?(r.label===void 0&&console.error(`RadioButton option ${JSON.stringify(r)} is an object but has no label key`),r.label):r;let{class:k="zoo-radio-btn"}=n;const f=[[]];function j(r){tn.call(this,e,r)}function S(r){tn.call(this,e,r)}function V(r){tn.call(this,e,r)}function G(){c=this.__value,a(0,c)}return e.$$set=r=>{"options"in r&&a(1,s=r.options),"selected"in r&&a(0,c=r.selected),"style"in r&&a(2,l=r.style),"id"in r&&a(3,u=r.id),"name"in r&&a(4,i=r.name),"disabled"in r&&a(5,$=r.disabled),"required"in r&&a(6,b=r.required),"aria_label"in r&&a(7,_=r.aria_label),"class"in r&&a(8,k=r.class),"$$scope"in r&&a(10,t=r.$$scope)},[c,s,l,u,i,$,b,_,k,m,t,o,j,S,V,G,f]}class ns extends pn{constructor(n){super(),un(this,n,xn,Qn,ln,{options:1,selected:0,style:2,id:3,name:4,disabled:5,required:6,aria_label:7,class:8})}}const ss=82636,as=8,ts=69333,es=3366,os=24248,cs=32248,ls=38538,ps=724049,us=65409,is=1,rs=20821,ks=86892,ms=26590,_s=30823,fs=47920,gs=52522,ds=26918,bs=2,$s=16128,hs=17057,vs=4764,Ps=17258,Cs=21610,Ts=13864,Ss=34924,Ms=37902,ys=29578,Bs=24372,ws=22192,Ns=13420,Rs=12952,js=14222,As=8940,Hs=24770,Es=12188,Is=26,Ls=9081,Os=16148,Fs=8746,Ws=8172,Ds=10857,Gs=13153,zs=1120,Vs=4996,Ys=6302,Ks=7187,Zs=8221,qs=6702,Us=8710,Xs=12518,Js=12092,Qs=13469,xs=11826,na=303,sa=7269,aa=18062,ta=12551,ea=5929,oa=6124,ca=6901,la=822,pa=5890,ua=3689,ia=2761,ra=4536,ka=4588,ma=4489,_a=4712,fa=3370,ga=4394,da=3063,ba=4412,$a=6010,ha=9346,va=3006,Pa=2186,Ca=4080,Ta=5186,Sa=5087,Ma=5448,ya=5527,Ba=6823,wa=11712,Na=0,Ra=0,ja=0,Aa=0,Ha=0,Ea=496,Ia=1935,La=374,Oa=4535,Fa=577,Wa=740,Da=0,Ga=0,za=0,Va=0,Ya=0,Ka=0,Za=0,qa=0,Ua=0,Xa=0,Ja=0,Qa=0,xa=0,nt=0,st=0,at=0,tt=0,et=0,ot=0,ct=0,lt=0,pt=0,ut=0,it=0,D={H:ss,He:as,Li:ts,Be:es,B:os,C:cs,N:ls,O:ps,F:us,Ne:is,Na:rs,Mg:ks,Al:ms,Si:_s,P:fs,S:gs,Cl:ds,Ar:bs,K:$s,Ca:hs,Sc:vs,Ti:Ps,V:Cs,Cr:Ts,Mn:Ss,Fe:Ms,Co:ys,Ni:Bs,Cu:ws,Zn:Ns,Ga:Rs,Ge:js,As,Se:Hs,Br:Es,Kr:Is,Rb:Ls,Sr:Os,Y:Fs,Zr:Ws,Nb:Ds,Mo:Gs,Tc:zs,Ru:Vs,Rh:Ys,Pd:Ks,Ag:Zs,Cd:qs,In:Us,Sn:Xs,Sb:Js,Te:Qs,I:xs,Xe:na,Cs:sa,Ba:aa,La:ta,Ce:ea,Pr:oa,Nd:ca,Pm:la,Sm:pa,Eu:ua,Gd:ia,Tb:ra,Dy:ka,Ho:ma,Er:_a,Tm:fa,Yb:ga,Lu:da,Hf:ba,Ta:$a,W:ha,Re:va,Os:Pa,Ir:Ca,Pt:Ta,Au:Sa,Hg:Ma,Tl:ya,Pb:Ba,Bi:wa,Po:Na,At:Ra,Rn:ja,Fr:Aa,Ra:Ha,Ac:Ea,Th:Ia,Pa:La,U:Oa,Np:Fa,Pu:Wa,Am:Da,Cm:Ga,Bk:za,Cf:Va,Es:Ya,Fm:Ka,Md:Za,No:qa,Lr:Ua,Rf:Xa,Db:Ja,Sg:Qa,Bh:xa,Hs:nt,Mt:st,Ds:at,Rg:tt,Cn:et,Nh:ot,Fl:ct,Mc:lt,Lv:pt,Ts:ut,Og:it},rt=23584,kt=0,mt=14313,_t=1989,ft=21858,gt=13678,dt=27918,bt=150013,$t=57810,ht=0,vt=13573,Pt=25502,Ct=55485,Tt=47749,St=25924,Mt=43214,yt=26071,Bt=0,wt=17952,Nt=21697,Rt=18533,jt=15680,At=12107,Ht=15394,Et=33133,It=44576,Lt=38020,Ot=47391,Ft=43476,Wt=32173,Dt=45347,Gt=49788,zt=27578,Vt=42190,Yt=22704,Kt=0,Zt=16884,qt=22328,Ut=19544,Xt=18331,Jt=13125,Qt=3942,xt=1636,ne=26488,se=38467,ae=37770,te=15880,ee=18170,oe=44110,ce=43997,le=20297,pe=27842,ue=16387,ie=2,re=14702,ke=21181,me=18720,_e=16002,fe=17375,ge=17224,de=1462,be=17223,$e=10483,he=9462,ve=19230,Pe=18638,Ce=17874,Te=17707,Se=18983,Me=19848,ye=12650,Be=15081,we=11155,Ne=3761,Re=4180,je=13551,Ae=27121,He=38649,Ee=28489,Ie=10508,Le=16972,Oe=20005,Fe=12823,We=0,De=0,Ge=0,ze=0,Ve=0,Ye=1863,Ke=17945,Ze=4051,qe=14301,Ue=10177,Xe=13117,Je=0,Qe=0,xe=0,no=0,so=0,ao=0,to=0,eo=0,oo=0,co=0,lo=0,po=0,uo=0,io=0,ro=0,ko=0,mo=0,_o=0,fo=0,go=0,bo=0,$o=0,ho=0,vo=0,Po={H:rt,He:kt,Li:mt,Be:_t,B:ft,C:gt,N:dt,O:bt,F:$t,Ne:ht,Na:vt,Mg:Pt,Al:Ct,Si:Tt,P:St,S:Mt,Cl:yt,Ar:Bt,K:wt,Ca:Nt,Sc:Rt,Ti:jt,V:At,Cr:Ht,Mn:Et,Fe:It,Co:Lt,Ni:Ot,Cu:Ft,Zn:Wt,Ga:Dt,Ge:Gt,As:zt,Se:Vt,Br:Yt,Kr:Kt,Rb:Zt,Sr:qt,Y:Ut,Zr:Xt,Nb:Jt,Mo:Qt,Tc:xt,Ru:ne,Rh:se,Pd:ae,Ag:te,Cd:ee,In:oe,Sn:ce,Sb:le,Te:pe,I:ue,Xe:ie,Cs:re,Ba:ke,La:me,Ce:_e,Pr:fe,Nd:ge,Pm:de,Sm:be,Eu:$e,Gd:he,Tb:ve,Dy:Pe,Ho:Ce,Er:Te,Tm:Se,Yb:Me,Lu:ye,Hf:Be,Ta:we,W:Ne,Re,Os:je,Ir:Ae,Pt:He,Au:Ee,Hg:Ie,Tl:Le,Pb:Oe,Bi:Fe,Po:We,At:De,Rn:Ge,Fr:ze,Ra:Ve,Ac:Ye,Th:Ke,Pa:Ze,U:qe,Np:Ue,Pu:Xe,Am:Je,Cm:Qe,Bk:xe,Cf:no,Es:so,Fm:ao,Md:to,No:eo,Lr:oo,Rf:co,Db:lo,Sg:po,Bh:uo,Hs:io,Mt:ro,Ds:ko,Rg:mo,Cn:_o,Nh:fo,Fl:go,Mc:bo,Lv:$o,Ts:ho,Og:vo};function Sn(e){var i,$,b;let n,a=((i=e[8])==null?void 0:i.name)+"",o,t,s=J(D[($=e[8])==null?void 0:$.symbol])+"",c,l,u=D[(b=e[8])==null?void 0:b.symbol]>0&&Mn(e);return{c(){n=B("strong"),o=M(a),t=M(": "),c=M(s),l=H(),u&&u.c(),this.h()},l(_){n=w(_,"STRONG",{class:!0});var m=R(n);o=y(m,a),t=y(m,": "),c=y(m,s),l=E(m),u&&u.l(m),m.forEach(d),this.h()},h(){v(n,"class","svelte-yhv1yx")},m(_,m){P(_,n,m),h(n,o),h(n,t),h(n,c),h(n,l),u&&u.m(n,null)},p(_,m){var k,f,j;m&256&&a!==(a=((k=_[8])==null?void 0:k.name)+"")&&Z(o,a),m&256&&s!==(s=J(D[(f=_[8])==null?void 0:f.symbol])+"")&&Z(c,s),D[(j=_[8])==null?void 0:j.symbol]>0?u?u.p(_,m):(u=Mn(_),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},d(_){_&&d(n),u&&u.d()}}}function Mn(e){var s;let n,a=J(D[(s=e[8])==null?void 0:s.symbol]/e[4]*100)+"",o,t;return{c(){n=M("("),o=M(a),t=M("%)")},l(c){n=y(c,"("),o=y(c,a),t=y(c,"%)")},m(c,l){P(c,n,l),P(c,o,l),P(c,t,l)},p(c,l){var u;l&272&&a!==(a=J(D[(u=c[8])==null?void 0:u.symbol]/c[4]*100)+"")&&Z(o,a)},d(c){c&&(d(n),d(o),d(t))}}}function Co(e){var o;let n,a=((o=e[8])==null?void 0:o.name)&&Sn(e);return{c(){a&&a.c(),n=X()},l(t){a&&a.l(t),n=X()},m(t,s){a&&a.m(t,s),P(t,n,s)},p(t,s){var c;(c=t[8])!=null&&c.name?a?a.p(t,s):(a=Sn(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){t&&d(n),a&&a.d(t)}}}function To(e){let n,a;return n=new Zn({props:{slot:"inset",style:"grid-row: 3;",$$slots:{default:[Co]},$$scope:{ctx:e}}}),{c(){I(n.$$.fragment)},l(o){L(n.$$.fragment,o)},m(o,t){O(n,o,t),a=!0},p(o,t){const s={};t&784&&(s.$$scope={dirty:t,ctx:o}),n.$set(s)},i(o){a||(C(n.$$.fragment,o),a=!0)},o(o){T(n.$$.fragment,o),a=!1},d(o){F(n,o)}}}function So(e){let n,a,o=e[0]=="MP"?"Materials Project":"WBM",t,s,c,l,u,i,$,b,_,m,k,f,j,S,V,G,r,q,A,Y;function Nn(p){e[5](p)}let rn={options:["MP","WBM"]};e[0]!==void 0&&(rn.selected=e[0]),i=new ns({props:rn}),en.push(()=>cn(i,"selected",Nn));function Rn(p){e[6](p)}let kn={};e[2]!==void 0&&(kn.checked=e[2]),k=new zn({props:kn}),en.push(()=>cn(k,"checked",Rn));function jn(p){e[7](p)}let mn={selected:[e[3]]};return e[3]!==void 0&&(mn.value=e[3]),S=new Vn({props:mn}),en.push(()=>cn(S,"value",jn)),r=new Kn({props:{heatmap_values:e[1],log:e[2],color_scale:e[3],$$slots:{inset:[To,({active_element:p})=>({8:p}),({active_element:p})=>p?256:0]},$$scope:{ctx:e}}}),A=new Yn({props:{range:hn(e[1]),color_scale:e[3],tick_labels:5,style:"width: 100%; margin: 2em 1em;"}}),{c(){n=B("h2"),a=M("Тепловая карта элементов "),t=M(o),s=H(),c=B("section"),l=B("span"),u=M("Набор данных   "),I(i.$$.fragment),b=H(),_=B("span"),m=M("Логарифмическая зависимость "),I(k.$$.fragment),j=H(),I(S.$$.fragment),G=H(),I(r.$$.fragment),q=H(),I(A.$$.fragment),this.h()},l(p){n=w(p,"H2",{});var g=R(n);a=y(g,"Тепловая карта элементов "),t=y(g,o),g.forEach(d),s=E(p),c=w(p,"SECTION",{class:!0});var N=R(c);l=w(N,"SPAN",{});var z=R(l);u=y(z,"Набор данных   "),L(i.$$.fragment,z),z.forEach(d),b=E(N),_=w(N,"SPAN",{});var W=R(_);m=y(W,"Логарифмическая зависимость "),L(k.$$.fragment,W),W.forEach(d),j=E(N),L(S.$$.fragment,N),N.forEach(d),G=E(p),L(r.$$.fragment,p),q=E(p),L(A.$$.fragment,p),this.h()},h(){v(c,"class","svelte-yhv1yx")},m(p,g){P(p,n,g),h(n,a),h(n,t),P(p,s,g),P(p,c,g),h(c,l),h(l,u),O(i,l,null),h(c,b),h(c,_),h(_,m),O(k,_,null),h(c,j),O(S,c,null),P(p,G,g),O(r,p,g),P(p,q,g),O(A,p,g),Y=!0},p(p,[g]){(!Y||g&1)&&o!==(o=p[0]=="MP"?"Materials Project":"WBM")&&Z(t,o);const N={};!$&&g&1&&($=!0,N.selected=p[0],on(()=>$=!1)),i.$set(N);const z={};!f&&g&4&&(f=!0,z.checked=p[2],on(()=>f=!1)),k.$set(z);const W={};g&8&&(W.selected=[p[3]]),!V&&g&8&&(V=!0,W.value=p[3],on(()=>V=!1)),S.$set(W);const K={};g&2&&(K.heatmap_values=p[1]),g&4&&(K.log=p[2]),g&8&&(K.color_scale=p[3]),g&784&&(K.$$scope={dirty:g,ctx:p}),r.$set(K);const an={};g&2&&(an.range=hn(p[1])),g&8&&(an.color_scale=p[3]),A.$set(an)},i(p){Y||(C(i.$$.fragment,p),C(k.$$.fragment,p),C(S.$$.fragment,p),C(r.$$.fragment,p),C(A.$$.fragment,p),Y=!0)},o(p){T(i.$$.fragment,p),T(k.$$.fragment,p),T(S.$$.fragment,p),T(r.$$.fragment,p),T(A.$$.fragment,p),Y=!1},d(p){p&&(d(n),d(s),d(c),d(G),d(q)),F(i),F(k),F(S),F(r,p),F(A,p)}}}function Mo(e,n,a){let o,t,s=!0,c="MP",l="Viridis";function u(b){c=b,a(0,c)}function i(b){s=b,a(2,s)}function $(b){l=b,a(3,l)}return e.$$.update=()=>{e.$$.dirty&1&&a(1,o=Object.values(c=="WBM"?Po:D)),e.$$.dirty&2&&a(4,t=o.reduce((b,_)=>b+_,0))},[c,o,s,l,t,u,i,$]}class yo extends pn{constructor(n){super(),un(this,n,Mo,So,ln,{})}}const Bo=e=>({}),yn=e=>({slot:"example"}),wo=e=>({}),Bn=e=>({slot:"code"});function No(e){let n,a;return n=new yo({}),{c(){I(n.$$.fragment)},l(o){L(n.$$.fragment,o)},m(o,t){O(n,o,t),a=!0},i(o){a||(C(n.$$.fragment,o),a=!0)},o(o){T(n.$$.fragment,o),a=!1},d(o){F(n,o)}}}function Ro(e){let n;const a=e[0].default,o=Q(a,e,e[1],yn),t=o||No();return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,c){t&&t.m(s,c),n=!0},p(s,c){o&&o.p&&(!n||c&2)&&x(o,a,s,s[1],n?sn(a,s[1],c,Bo):nn(s[1]),yn)},i(s){n||(C(t,s),n=!0)},o(s){T(t,s),n=!1},d(s){t&&t.d(s)}}}function jo(e){let n,a=`<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> PeriodicTable<span class="token punctuation">,</span> TableInset<span class="token punctuation">,</span> ColorBar<span class="token punctuation">,</span> ColorScaleSelect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'$lib'</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pretty_num <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'$lib/labels'</span>
  <span class="token keyword">import</span> Multiselect <span class="token keyword">from</span> <span class="token string">'svelte-multiselect'</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> RadioButtons<span class="token punctuation">,</span> Toggle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'svelte-zoo'</span>
  <span class="token keyword">import</span> mp_elem_counts <span class="token keyword">from</span> <span class="token string">'./mp-element-counts.json'</span>
  <span class="token keyword">import</span> wbm_elem_counts <span class="token keyword">from</span> <span class="token string">'./wbm-element-counts.json'</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> extent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'d3-array'</span>

  <span class="token keyword">let</span> log <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// log color scale</span>
  <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">MP</span><span class="token template-punctuation string">\`</span></span>
  <span class="token keyword">let</span> color_scale <span class="token operator">=</span> <span class="token string">'Viridis'</span>
  <span class="token literal-property property">$</span><span class="token operator">:</span> heatmap_values <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">WBM</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">?</span> wbm_elem_counts <span class="token operator">:</span> mp_elem_counts<span class="token punctuation">)</span>
  <span class="token literal-property property">$</span><span class="token operator">:</span> total <span class="token operator">=</span> heatmap_values<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> a <span class="token operator">+</span> b<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Тепловая карта элементов <span class="token language-javascript"><span class="token punctuation">{</span>data <span class="token operator">==</span> <span class="token string">'MP'</span> <span class="token operator">?</span> <span class="token string">'Materials Project'</span> <span class="token operator">:</span> <span class="token string">'WBM'</span><span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Набор данных <span class="token entity named-entity" title="&ensp;">&amp;ensp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RadioButtons</span> <span class="token attr-name">options=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">MP</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">WBM</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>selected=</span><span class="token language-javascript"><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Логарифмическая зависимость <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Toggle</span> <span class="token attr-name"><span class="token namespace">bind:</span>checked=</span><span class="token language-javascript"><span class="token punctuation">{</span>log<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ColorScaleSelect</span> <span class="token attr-name"><span class="token namespace">bind:</span>value=</span><span class="token language-javascript"><span class="token punctuation">{</span>color_scale<span class="token punctuation">}</span></span> <span class="token attr-name">selected=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">[</span>color_scale<span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PeriodicTable</span> <span class="token language-javascript"><span class="token punctuation">{</span>heatmap_values<span class="token punctuation">}</span></span> <span class="token language-javascript"><span class="token punctuation">{</span>log<span class="token punctuation">}</span></span> <span class="token language-javascript"><span class="token punctuation">{</span>color_scale<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableInset</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>inset<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>grid-row: 3;<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">let:</span>active_element</span><span class="token punctuation">></span></span>
    <span class="token language-javascript"><span class="token punctuation">{</span>#<span class="token keyword">if</span> active_element<span class="token operator">?.</span>name<span class="token punctuation">}</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>
        <span class="token language-javascript"><span class="token punctuation">{</span>active_element<span class="token operator">?.</span>name<span class="token punctuation">}</span></span>: <span class="token language-javascript"><span class="token punctuation">{</span><span class="token function">pretty_num</span><span class="token punctuation">(</span>mp_elem_counts<span class="token punctuation">[</span>active_element<span class="token operator">?.</span>symbol<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
        <span class="token comment">&lt;!-- compute percent of total --></span>
        <span class="token language-javascript"><span class="token punctuation">{</span>#<span class="token keyword">if</span> mp_elem_counts<span class="token punctuation">[</span>active_element<span class="token operator">?.</span>symbol<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">}</span></span>
          (<span class="token language-javascript"><span class="token punctuation">{</span><span class="token function">pretty_num</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mp_elem_counts<span class="token punctuation">[</span>active_element<span class="token operator">?.</span>symbol<span class="token punctuation">]</span> <span class="token operator">/</span> total<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>%)
        <span class="token language-javascript"><span class="token punctuation">{</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token punctuation">}</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span>
    <span class="token language-javascript"><span class="token punctuation">{</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token punctuation">}</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableInset</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PeriodicTable</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ColorBar</span> <span class="token attr-name">range=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token function">extent</span><span class="token punctuation">(</span>heatmap_values<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token language-javascript"><span class="token punctuation">{</span>color_scale<span class="token punctuation">}</span></span> <span class="token attr-name">tick_labels=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width: 100%; margin: 2em 1em;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>`,o;return{c(){n=new Ln(!1),o=X(),this.h()},l(t){n=On(t,!1),o=X(),this.h()},h(){n.a=o},m(t,s){n.m(a,t,s),P(t,o,s)},p:Fn,d(t){t&&(d(o),n.d())}}}function Ao(e){let n;const a=e[0].default,o=Q(a,e,e[1],Bn),t=o||jo();return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,c){t&&t.m(s,c),n=!0},p(s,c){o&&o.p&&(!n||c&2)&&x(o,a,s,s[1],n?sn(a,s[1],c,wo):nn(s[1]),Bn)},i(s){n||(C(t,s),n=!0)},o(s){T(t,s),n=!1},d(s){t&&t.d(s)}}}var wn;function Ho(e){let n,a,o;return a=new Gn({props:{src:String.raw(wn||(wn=fn([`<script>
import { PeriodicTable, TableInset, ColorBar, ColorScaleSelect } from '$lib'
import { pretty_num } from '$lib/labels'
import Multiselect from 'svelte-multiselect'
import { RadioButtons, Toggle } from 'svelte-zoo'
import mp_elem_counts from './mp-element-counts.json'
import wbm_elem_counts from './wbm-element-counts.json'
import { extent } from 'd3-array'
let log = true // log color scale
let data = \`MP\`
let color_scale = 'Viridis'
$: heatmap_values = Object.values(data == \`WBM\` ? wbm_elem_counts : mp_elem_counts)
$: total = heatmap_values.reduce((a, b) => a + b, 0)
<\/script>
<h2>Тепловая карта элементов {data == 'MP' ? 'Materials Project' : 'WBM'}</h2>
<section>
<span>Набор данных &ensp; <RadioButtons options={[\`MP\`, \`WBM\`]} bind:selected={data} /></span>
<span>Логарифмическая зависимость <Toggle bind:checked={log} /></span>
<ColorScaleSelect bind:value={color_scale} selected={[color_scale]} />
</section>
<PeriodicTable {heatmap_values} {log} {color_scale}>
<TableInset slot="inset" style="grid-row: 3;" let:active_element>
{#if active_element?.name}
<strong>
{active_element?.name}: {pretty_num(mp_elem_counts[active_element?.symbol])}
<!-- compute percent of total -->
{#if mp_elem_counts[active_element?.symbol] > 0}
({pretty_num((mp_elem_counts[active_element?.symbol] / total) * 100)}%)
{/if}
</strong>
{/if}
</TableInset>
</PeriodicTable>
<ColorBar range={extent(heatmap_values)} {color_scale} tick_labels={5} style="width: 100%; margin: 2em 1em;" />`],[`<script>
import { PeriodicTable, TableInset, ColorBar, ColorScaleSelect } from '$lib'
import { pretty_num } from '$lib/labels'
import Multiselect from 'svelte-multiselect'
import { RadioButtons, Toggle } from 'svelte-zoo'
import mp_elem_counts from './mp-element-counts.json'
import wbm_elem_counts from './wbm-element-counts.json'
import { extent } from 'd3-array'
let log = true // log color scale
let data = \\\`MP\\\`
let color_scale = 'Viridis'
$: heatmap_values = Object.values(data == \\\`WBM\\\` ? wbm_elem_counts : mp_elem_counts)
$: total = heatmap_values.reduce((a, b) => a + b, 0)
<\/script>
<h2>Тепловая карта элементов {data == 'MP' ? 'Materials Project' : 'WBM'}</h2>
<section>
<span>Набор данных &ensp; <RadioButtons options={[\\\`MP\\\`, \\\`WBM\\\`]} bind:selected={data} /></span>
<span>Логарифмическая зависимость <Toggle bind:checked={log} /></span>
<ColorScaleSelect bind:value={color_scale} selected={[color_scale]} />
</section>
<PeriodicTable {heatmap_values} {log} {color_scale}>
<TableInset slot="inset" style="grid-row: 3;" let:active_element>
{#if active_element?.name}
<strong>
{active_element?.name}: {pretty_num(mp_elem_counts[active_element?.symbol])}
<!-- compute percent of total -->
{#if mp_elem_counts[active_element?.symbol] > 0}
({pretty_num((mp_elem_counts[active_element?.symbol] / total) * 100)}%)
{/if}
</strong>
{/if}
</TableInset>
</PeriodicTable>
<ColorBar range={extent(heatmap_values)} {color_scale} tick_labels={5} style="width: 100%; margin: 2em 1em;" />`]))),meta:{Wrapper:"svelte-zoo/CodeExample.svelte",filename:"/src/routes/(demos)/color-scales/+page.md",pkg:"elementari",repo:"https://github.com/elmtru/elmtru.github.io",hideStyle:!0,example:!0,stackblitz:!0},$$slots:{code:[Ao],example:[Ro]},$$scope:{ctx:e}}}),{c(){n=B("div"),I(a.$$.fragment)},l(t){n=w(t,"DIV",{});var s=R(n);L(a.$$.fragment,s),s.forEach(d)},m(t,s){P(t,n,s),O(a,n,null),o=!0},p(t,[s]){const c={};s&2&&(c.$$scope={dirty:s,ctx:t}),a.$set(c)},i(t){o||(C(a.$$.fragment,t),o=!0)},o(t){T(a.$$.fragment,t),o=!1},d(t){t&&d(n),F(a)}}}function Eo(e,n,a){let{$$slots:o={},$$scope:t}=n;return e.$$set=s=>{"$$scope"in s&&a(1,t=s.$$scope)},[o,t]}class Io extends pn{constructor(n){super(),un(this,n,Eo,Ho,ln,{})}}const Xo=Object.freeze(Object.defineProperty({__proto__:null,default:Io},Symbol.toStringTag,{value:"Module"}));export{Io as P,Xo as _};
