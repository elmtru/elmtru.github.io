var ms=Object.freeze,As=Object.defineProperty;var _s=(e,s)=>ms(As(e,"raw",{value:ms(s||e.slice())}));import{s as ls,e as B,b as w,d as R,g as d,h as v,ag as fs,i as P,M as js,c as Q,as as Hs,a as H,f as E,Y as gs,S as ds,j as h,l as U,u as x,k as ss,m as ns,r as Es,R as ts,N as M,O as y,P as Z,J as es,K as os,n as X,H as Ls,A as Is,t as Os}from"./scheduler.DSZzDcX6.js";import{S as ps,i as us,t as C,g as Fs,c as Ds,a as T,f as cs,b as L,d as I,m as O,e as F}from"./index.Ck97c3H1.js";import{C as Ws}from"./CodeLinks.Dgr_X-x7.js";import{p as J}from"./index.CdZlA5Fd.js";import"./Tooltip.svelte_svelte_type_style_lang.BzaACov9.js";import"./entry.BzDjQvFf.js";import{e as bs}from"./each.CNH9y-bx.js";import{T as Gs}from"./Toggle.BCoDc5Qk.js";import{a as zs,C as Ks}from"./ColorScaleSelect.DvFGpSFx.js";import{P as Vs}from"./PeriodicTable.CduioAQd.js";import{e as $s}from"./extent.Ccx1MofX.js";import{T as Ys}from"./TableInset.C03d7mwT.js";function hs(e,s,n){const o=e.slice();o[17]=s[n];const t=o[9](o[17]);o[18]=t;const a=o[0]&&o[9](o[17])===o[9](o[0]);return o[19]=a,o}const Zs=e=>({option:e&2,selected:e&1,active:e&3}),vs=e=>({option:e[17],selected:e[0],active:e[19]}),qs=e=>({option:e&2,selected:e&1,active:e&3}),Ps=e=>({option:e[17],selected:e[0],active:e[19]});function Us(e){let s,n=e[18]+"",o;return{c(){s=B("span"),o=M(n),this.h()},l(t){s=w(t,"SPAN",{class:!0});var a=R(s);o=y(a,n),a.forEach(d),this.h()},h(){v(s,"class","svelte-z2iha1")},m(t,a){P(t,s,a),h(s,o)},p(t,a){a&2&&n!==(n=t[18]+"")&&Z(o,n)},d(t){t&&d(s)}}}function Xs(e){let s;const n=e[11].default,o=Q(n,e,e[10],vs),t=o||Us(e);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,c){t&&t.m(a,c),s=!0},p(a,c){o?o.p&&(!s||c&1027)&&x(o,n,a,a[10],s?ns(n,a[10],c,Zs):ss(a[10]),vs):t&&t.p&&(!s||c&2)&&t.p(a,s?c:-1)},i(a){s||(C(t,a),s=!0)},o(a){T(t,a),s=!1},d(a){t&&t.d(a)}}}function Cs(e){let s,n,o,t=!1,a,c,l,u,i,$;const b=e[11].option,_=Q(b,e,e[10],Ps),m=_||Xs(e);return u=Hs(e[16][0]),{c(){s=B("label"),n=B("input"),a=H(),m&&m.c(),c=H(),this.h()},l(k){s=w(k,"LABEL",{"aria-label":!0,class:!0});var f=R(s);n=w(f,"INPUT",{type:!0,name:!0,class:!0}),a=E(f),m&&m.l(f),c=E(f),f.forEach(d),this.h()},h(){v(n,"type","radio"),n.__value=o=e[17],gs(n,n.__value),v(n,"name",e[4]),n.disabled=e[5],n.required=e[6],v(n,"class","svelte-z2iha1"),v(s,"aria-label",e[7]),v(s,"class","svelte-z2iha1"),ds(s,"active",e[19]),u.p(n)},m(k,f){P(k,s,f),h(s,n),n.checked=n.__value===e[0],h(s,a),m&&m.m(s,null),h(s,c),l=!0,i||($=[U(n,"change",e[15]),U(n,"change",e[12]),U(n,"input",e[13]),U(n,"click",e[14])],i=!0)},p(k,f){(!l||f&2&&o!==(o=k[17]))&&(n.__value=o,gs(n,n.__value),t=!0),(!l||f&16)&&v(n,"name",k[4]),(!l||f&32)&&(n.disabled=k[5]),(!l||f&64)&&(n.required=k[6]),(t||f&3)&&(n.checked=n.__value===k[0]),_?_.p&&(!l||f&1027)&&x(_,b,k,k[10],l?ns(b,k[10],f,qs):ss(k[10]),Ps):m&&m.p&&(!l||f&1027)&&m.p(k,l?f:-1),(!l||f&128)&&v(s,"aria-label",k[7]),(!l||f&515)&&ds(s,"active",k[19])},i(k){l||(C(m,k),l=!0)},o(k){T(m,k),l=!1},d(k){k&&d(s),m&&m.d(k),u.r(),i=!1,Es($)}}}function Js(e){let s,n,o,t=bs(e[1]),a=[];for(let l=0;l<t.length;l+=1)a[l]=Cs(hs(e,t,l));const c=l=>T(a[l],1,1,()=>{a[l]=null});return{c(){s=B("div");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){s=w(l,"DIV",{id:!0,style:!0,class:!0});var u=R(s);for(let i=0;i<a.length;i+=1)a[i].l(u);u.forEach(d),this.h()},h(){v(s,"id",e[3]),v(s,"style",e[2]),v(s,"class",n=fs(e[8])+" svelte-z2iha1")},m(l,u){P(l,s,u);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(s,null);o=!0},p(l,[u]){if(u&1779){t=bs(l[1]);let i;for(i=0;i<t.length;i+=1){const $=hs(l,t,i);a[i]?(a[i].p($,u),C(a[i],1)):(a[i]=Cs($),a[i].c(),C(a[i],1),a[i].m(s,null))}for(Fs(),i=t.length;i<a.length;i+=1)c(i);Ds()}(!o||u&8)&&v(s,"id",l[3]),(!o||u&4)&&v(s,"style",l[2]),(!o||u&256&&n!==(n=fs(l[8])+" svelte-z2iha1"))&&v(s,"class",n)},i(l){if(!o){for(let u=0;u<t.length;u+=1)C(a[u]);o=!0}},o(l){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)T(a[u]);o=!1},d(l){l&&d(s),js(a,l)}}}function Qs(e,s,n){let{$$slots:o={},$$scope:t}=s,{options:a}=s,{selected:c=null}=s,{style:l=null}=s,{id:u=null}=s,{name:i=null}=s,{disabled:$=!1}=s,{required:b=!1}=s,{aria_label:_=null}=s;const m=r=>r instanceof Object?(r.label===void 0&&console.error(`RadioButton option ${JSON.stringify(r)} is an object but has no label key`),r.label):r;let{class:k="zoo-radio-btn"}=s;const f=[[]];function A(r){ts.call(this,e,r)}function S(r){ts.call(this,e,r)}function K(r){ts.call(this,e,r)}function G(){c=this.__value,n(0,c)}return e.$$set=r=>{"options"in r&&n(1,a=r.options),"selected"in r&&n(0,c=r.selected),"style"in r&&n(2,l=r.style),"id"in r&&n(3,u=r.id),"name"in r&&n(4,i=r.name),"disabled"in r&&n(5,$=r.disabled),"required"in r&&n(6,b=r.required),"aria_label"in r&&n(7,_=r.aria_label),"class"in r&&n(8,k=r.class),"$$scope"in r&&n(10,t=r.$$scope)},[c,a,l,u,i,$,b,_,k,m,t,o,A,S,K,G,f]}class xs extends ps{constructor(s){super(),us(this,s,Qs,Js,ls,{options:1,selected:0,style:2,id:3,name:4,disabled:5,required:6,aria_label:7,class:8})}}const sn=82636,nn=8,an=69333,tn=3366,en=24248,on=32248,cn=38538,ln=724049,pn=65409,un=1,rn=20821,kn=86892,mn=26590,_n=30823,fn=47920,gn=52522,dn=26918,bn=2,$n=16128,hn=17057,vn=4764,Pn=17258,Cn=21610,Tn=13864,Sn=34924,Mn=37902,yn=29578,Bn=24372,wn=22192,Nn=13420,Rn=12952,An=14222,jn=8940,Hn=24770,En=12188,Ln=26,In=9081,On=16148,Fn=8746,Dn=8172,Wn=10857,Gn=13153,zn=1120,Kn=4996,Vn=6302,Yn=7187,Zn=8221,qn=6702,Un=8710,Xn=12518,Jn=12092,Qn=13469,xn=11826,sa=303,na=7269,aa=18062,ta=12551,ea=5929,oa=6124,ca=6901,la=822,pa=5890,ua=3689,ia=2761,ra=4536,ka=4588,ma=4489,_a=4712,fa=3370,ga=4394,da=3063,ba=4412,$a=6010,ha=9346,va=3006,Pa=2186,Ca=4080,Ta=5186,Sa=5087,Ma=5448,ya=5527,Ba=6823,wa=11712,Na=0,Ra=0,Aa=0,ja=0,Ha=0,Ea=496,La=1935,Ia=374,Oa=4535,Fa=577,Da=740,Wa=0,Ga=0,za=0,Ka=0,Va=0,Ya=0,Za=0,qa=0,Ua=0,Xa=0,Ja=0,Qa=0,xa=0,st=0,nt=0,at=0,tt=0,et=0,ot=0,ct=0,lt=0,pt=0,ut=0,it=0,W={H:sn,He:nn,Li:an,Be:tn,B:en,C:on,N:cn,O:ln,F:pn,Ne:un,Na:rn,Mg:kn,Al:mn,Si:_n,P:fn,S:gn,Cl:dn,Ar:bn,K:$n,Ca:hn,Sc:vn,Ti:Pn,V:Cn,Cr:Tn,Mn:Sn,Fe:Mn,Co:yn,Ni:Bn,Cu:wn,Zn:Nn,Ga:Rn,Ge:An,As:jn,Se:Hn,Br:En,Kr:Ln,Rb:In,Sr:On,Y:Fn,Zr:Dn,Nb:Wn,Mo:Gn,Tc:zn,Ru:Kn,Rh:Vn,Pd:Yn,Ag:Zn,Cd:qn,In:Un,Sn:Xn,Sb:Jn,Te:Qn,I:xn,Xe:sa,Cs:na,Ba:aa,La:ta,Ce:ea,Pr:oa,Nd:ca,Pm:la,Sm:pa,Eu:ua,Gd:ia,Tb:ra,Dy:ka,Ho:ma,Er:_a,Tm:fa,Yb:ga,Lu:da,Hf:ba,Ta:$a,W:ha,Re:va,Os:Pa,Ir:Ca,Pt:Ta,Au:Sa,Hg:Ma,Tl:ya,Pb:Ba,Bi:wa,Po:Na,At:Ra,Rn:Aa,Fr:ja,Ra:Ha,Ac:Ea,Th:La,Pa:Ia,U:Oa,Np:Fa,Pu:Da,Am:Wa,Cm:Ga,Bk:za,Cf:Ka,Es:Va,Fm:Ya,Md:Za,No:qa,Lr:Ua,Rf:Xa,Db:Ja,Sg:Qa,Bh:xa,Hs:st,Mt:nt,Ds:at,Rg:tt,Cn:et,Nh:ot,Fl:ct,Mc:lt,Lv:pt,Ts:ut,Og:it},rt=23584,kt=0,mt=14313,_t=1989,ft=21858,gt=13678,dt=27918,bt=150013,$t=57810,ht=0,vt=13573,Pt=25502,Ct=55485,Tt=47749,St=25924,Mt=43214,yt=26071,Bt=0,wt=17952,Nt=21697,Rt=18533,At=15680,jt=12107,Ht=15394,Et=33133,Lt=44576,It=38020,Ot=47391,Ft=43476,Dt=32173,Wt=45347,Gt=49788,zt=27578,Kt=42190,Vt=22704,Yt=0,Zt=16884,qt=22328,Ut=19544,Xt=18331,Jt=13125,Qt=3942,xt=1636,se=26488,ne=38467,ae=37770,te=15880,ee=18170,oe=44110,ce=43997,le=20297,pe=27842,ue=16387,ie=2,re=14702,ke=21181,me=18720,_e=16002,fe=17375,ge=17224,de=1462,be=17223,$e=10483,he=9462,ve=19230,Pe=18638,Ce=17874,Te=17707,Se=18983,Me=19848,ye=12650,Be=15081,we=11155,Ne=3761,Re=4180,Ae=13551,je=27121,He=38649,Ee=28489,Le=10508,Ie=16972,Oe=20005,Fe=12823,De=0,We=0,Ge=0,ze=0,Ke=0,Ve=1863,Ye=17945,Ze=4051,qe=14301,Ue=10177,Xe=13117,Je=0,Qe=0,xe=0,so=0,no=0,ao=0,to=0,eo=0,oo=0,co=0,lo=0,po=0,uo=0,io=0,ro=0,ko=0,mo=0,_o=0,fo=0,go=0,bo=0,$o=0,ho=0,vo=0,Po={H:rt,He:kt,Li:mt,Be:_t,B:ft,C:gt,N:dt,O:bt,F:$t,Ne:ht,Na:vt,Mg:Pt,Al:Ct,Si:Tt,P:St,S:Mt,Cl:yt,Ar:Bt,K:wt,Ca:Nt,Sc:Rt,Ti:At,V:jt,Cr:Ht,Mn:Et,Fe:Lt,Co:It,Ni:Ot,Cu:Ft,Zn:Dt,Ga:Wt,Ge:Gt,As:zt,Se:Kt,Br:Vt,Kr:Yt,Rb:Zt,Sr:qt,Y:Ut,Zr:Xt,Nb:Jt,Mo:Qt,Tc:xt,Ru:se,Rh:ne,Pd:ae,Ag:te,Cd:ee,In:oe,Sn:ce,Sb:le,Te:pe,I:ue,Xe:ie,Cs:re,Ba:ke,La:me,Ce:_e,Pr:fe,Nd:ge,Pm:de,Sm:be,Eu:$e,Gd:he,Tb:ve,Dy:Pe,Ho:Ce,Er:Te,Tm:Se,Yb:Me,Lu:ye,Hf:Be,Ta:we,W:Ne,Re,Os:Ae,Ir:je,Pt:He,Au:Ee,Hg:Le,Tl:Ie,Pb:Oe,Bi:Fe,Po:De,At:We,Rn:Ge,Fr:ze,Ra:Ke,Ac:Ve,Th:Ye,Pa:Ze,U:qe,Np:Ue,Pu:Xe,Am:Je,Cm:Qe,Bk:xe,Cf:so,Es:no,Fm:ao,Md:to,No:eo,Lr:oo,Rf:co,Db:lo,Sg:po,Bh:uo,Hs:io,Mt:ro,Ds:ko,Rg:mo,Cn:_o,Nh:fo,Fl:go,Mc:bo,Lv:$o,Ts:ho,Og:vo};function Ts(e){var i,$,b;let s,n=((i=e[8])==null?void 0:i.name)+"",o,t,a=J(W[($=e[8])==null?void 0:$.symbol])+"",c,l,u=W[(b=e[8])==null?void 0:b.symbol]>0&&Ss(e);return{c(){s=B("strong"),o=M(n),t=M(": "),c=M(a),l=H(),u&&u.c(),this.h()},l(_){s=w(_,"STRONG",{class:!0});var m=R(s);o=y(m,n),t=y(m,": "),c=y(m,a),l=E(m),u&&u.l(m),m.forEach(d),this.h()},h(){v(s,"class","svelte-yhv1yx")},m(_,m){P(_,s,m),h(s,o),h(s,t),h(s,c),h(s,l),u&&u.m(s,null)},p(_,m){var k,f,A;m&256&&n!==(n=((k=_[8])==null?void 0:k.name)+"")&&Z(o,n),m&256&&a!==(a=J(W[(f=_[8])==null?void 0:f.symbol])+"")&&Z(c,a),W[(A=_[8])==null?void 0:A.symbol]>0?u?u.p(_,m):(u=Ss(_),u.c(),u.m(s,null)):u&&(u.d(1),u=null)},d(_){_&&d(s),u&&u.d()}}}function Ss(e){var a;let s,n=J(W[(a=e[8])==null?void 0:a.symbol]/e[4]*100)+"",o,t;return{c(){s=M("("),o=M(n),t=M("%)")},l(c){s=y(c,"("),o=y(c,n),t=y(c,"%)")},m(c,l){P(c,s,l),P(c,o,l),P(c,t,l)},p(c,l){var u;l&272&&n!==(n=J(W[(u=c[8])==null?void 0:u.symbol]/c[4]*100)+"")&&Z(o,n)},d(c){c&&(d(s),d(o),d(t))}}}function Co(e){var o;let s,n=((o=e[8])==null?void 0:o.name)&&Ts(e);return{c(){n&&n.c(),s=X()},l(t){n&&n.l(t),s=X()},m(t,a){n&&n.m(t,a),P(t,s,a)},p(t,a){var c;(c=t[8])!=null&&c.name?n?n.p(t,a):(n=Ts(t),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(t){t&&d(s),n&&n.d(t)}}}function To(e){let s,n;return s=new Ys({props:{slot:"inset",style:"grid-row: 3;",$$slots:{default:[Co]},$$scope:{ctx:e}}}),{c(){L(s.$$.fragment)},l(o){I(s.$$.fragment,o)},m(o,t){O(s,o,t),n=!0},p(o,t){const a={};t&784&&(a.$$scope={dirty:t,ctx:o}),s.$set(a)},i(o){n||(C(s.$$.fragment,o),n=!0)},o(o){T(s.$$.fragment,o),n=!1},d(o){F(s,o)}}}function So(e){let s,n=e[0]=="MP"?"Materials Project":"WBM",o,t,a,c,l,u,i,$,b,_,m,k,f,A,S,K,G,r,q,j,V;function ws(p){e[5](p)}let is={options:["MP","WBM"]};e[0]!==void 0&&(is.selected=e[0]),i=new xs({props:is}),es.push(()=>cs(i,"selected",ws));function Ns(p){e[6](p)}let rs={};e[2]!==void 0&&(rs.checked=e[2]),k=new Gs({props:rs}),es.push(()=>cs(k,"checked",Ns));function Rs(p){e[7](p)}let ks={selected:[e[3]]};return e[3]!==void 0&&(ks.value=e[3]),S=new zs({props:ks}),es.push(()=>cs(S,"value",Rs)),r=new Vs({props:{heatmap_values:e[1],log:e[2],color_scale:e[3],$$slots:{inset:[To,({active_element:p})=>({8:p}),({active_element:p})=>p?256:0]},$$scope:{ctx:e}}}),j=new Ks({props:{range:$s(e[1]),color_scale:e[3],tick_labels:5,style:"width: 100%; margin: 2em 1em;"}}),{c(){s=B("h2"),o=M(n),t=M(" Element Heatmap"),a=H(),c=B("section"),l=B("span"),u=M("Data set   "),L(i.$$.fragment),b=H(),_=B("span"),m=M("Log color scale "),L(k.$$.fragment),A=H(),L(S.$$.fragment),G=H(),L(r.$$.fragment),q=H(),L(j.$$.fragment),this.h()},l(p){s=w(p,"H2",{});var g=R(s);o=y(g,n),t=y(g," Element Heatmap"),g.forEach(d),a=E(p),c=w(p,"SECTION",{class:!0});var N=R(c);l=w(N,"SPAN",{});var z=R(l);u=y(z,"Data set   "),I(i.$$.fragment,z),z.forEach(d),b=E(N),_=w(N,"SPAN",{});var D=R(_);m=y(D,"Log color scale "),I(k.$$.fragment,D),D.forEach(d),A=E(N),I(S.$$.fragment,N),N.forEach(d),G=E(p),I(r.$$.fragment,p),q=E(p),I(j.$$.fragment,p),this.h()},h(){v(c,"class","svelte-yhv1yx")},m(p,g){P(p,s,g),h(s,o),h(s,t),P(p,a,g),P(p,c,g),h(c,l),h(l,u),O(i,l,null),h(c,b),h(c,_),h(_,m),O(k,_,null),h(c,A),O(S,c,null),P(p,G,g),O(r,p,g),P(p,q,g),O(j,p,g),V=!0},p(p,[g]){(!V||g&1)&&n!==(n=p[0]=="MP"?"Materials Project":"WBM")&&Z(o,n);const N={};!$&&g&1&&($=!0,N.selected=p[0],os(()=>$=!1)),i.$set(N);const z={};!f&&g&4&&(f=!0,z.checked=p[2],os(()=>f=!1)),k.$set(z);const D={};g&8&&(D.selected=[p[3]]),!K&&g&8&&(K=!0,D.value=p[3],os(()=>K=!1)),S.$set(D);const Y={};g&2&&(Y.heatmap_values=p[1]),g&4&&(Y.log=p[2]),g&8&&(Y.color_scale=p[3]),g&784&&(Y.$$scope={dirty:g,ctx:p}),r.$set(Y);const as={};g&2&&(as.range=$s(p[1])),g&8&&(as.color_scale=p[3]),j.$set(as)},i(p){V||(C(i.$$.fragment,p),C(k.$$.fragment,p),C(S.$$.fragment,p),C(r.$$.fragment,p),C(j.$$.fragment,p),V=!0)},o(p){T(i.$$.fragment,p),T(k.$$.fragment,p),T(S.$$.fragment,p),T(r.$$.fragment,p),T(j.$$.fragment,p),V=!1},d(p){p&&(d(s),d(a),d(c),d(G),d(q)),F(i),F(k),F(S),F(r,p),F(j,p)}}}function Mo(e,s,n){let o,t,a=!0,c="MP",l="Viridis";function u(b){c=b,n(0,c)}function i(b){a=b,n(2,a)}function $(b){l=b,n(3,l)}return e.$$.update=()=>{e.$$.dirty&1&&n(1,o=Object.values(c=="WBM"?Po:W)),e.$$.dirty&2&&n(4,t=o.reduce((b,_)=>b+_,0))},[c,o,a,l,t,u,i,$]}class yo extends ps{constructor(s){super(),us(this,s,Mo,So,ls,{})}}const Bo=e=>({}),Ms=e=>({slot:"example"}),wo=e=>({}),ys=e=>({slot:"code"});function No(e){let s,n;return s=new yo({}),{c(){L(s.$$.fragment)},l(o){I(s.$$.fragment,o)},m(o,t){O(s,o,t),n=!0},i(o){n||(C(s.$$.fragment,o),n=!0)},o(o){T(s.$$.fragment,o),n=!1},d(o){F(s,o)}}}function Ro(e){let s;const n=e[0].default,o=Q(n,e,e[1],Ms),t=o||No();return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,c){t&&t.m(a,c),s=!0},p(a,c){o&&o.p&&(!s||c&2)&&x(o,n,a,a[1],s?ns(n,a[1],c,Bo):ss(a[1]),Ms)},i(a){s||(C(t,a),s=!0)},o(a){T(t,a),s=!1},d(a){t&&t.d(a)}}}function Ao(e){let s,n=`<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> PeriodicTable<span class="token punctuation">,</span> TableInset<span class="token punctuation">,</span> ColorBar<span class="token punctuation">,</span> ColorScaleSelect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'$lib'</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pretty_num <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'$lib/labels'</span>
  <span class="token keyword">import</span> Multiselect <span class="token keyword">from</span> <span class="token string">'svelte-multiselect'</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> RadioButtons<span class="token punctuation">,</span> Toggle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'svelte-zoo'</span>
  <span class="token keyword">import</span> mp_elem_counts <span class="token keyword">from</span> <span class="token string">'./mp-element-counts.json'</span>
  <span class="token keyword">import</span> wbm_elem_counts <span class="token keyword">from</span> <span class="token string">'./wbm-element-counts.json'</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> extent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'d3-array'</span>

  <span class="token keyword">let</span> log <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// log color scale</span>
  <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">MP</span><span class="token template-punctuation string">\`</span></span>
  <span class="token keyword">let</span> color_scale <span class="token operator">=</span> <span class="token string">'Viridis'</span>
  <span class="token literal-property property">$</span><span class="token operator">:</span> heatmap_values <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">WBM</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">?</span> wbm_elem_counts <span class="token operator">:</span> mp_elem_counts<span class="token punctuation">)</span>
  <span class="token literal-property property">$</span><span class="token operator">:</span> total <span class="token operator">=</span> heatmap_values<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> a <span class="token operator">+</span> b<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token language-javascript"><span class="token punctuation">{</span>data <span class="token operator">==</span> <span class="token string">'MP'</span> <span class="token operator">?</span> <span class="token string">'Materials Project'</span> <span class="token operator">:</span> <span class="token string">'WBM'</span><span class="token punctuation">}</span></span> Element Heatmap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Data set <span class="token entity named-entity" title="&ensp;">&amp;ensp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RadioButtons</span> <span class="token attr-name">options=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">MP</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">WBM</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>selected=</span><span class="token language-javascript"><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Log color scale <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Toggle</span> <span class="token attr-name"><span class="token namespace">bind:</span>checked=</span><span class="token language-javascript"><span class="token punctuation">{</span>log<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ColorScaleSelect</span> <span class="token attr-name"><span class="token namespace">bind:</span>value=</span><span class="token language-javascript"><span class="token punctuation">{</span>color_scale<span class="token punctuation">}</span></span> <span class="token attr-name">selected=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">[</span>color_scale<span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PeriodicTable</span> <span class="token language-javascript"><span class="token punctuation">{</span>heatmap_values<span class="token punctuation">}</span></span> <span class="token language-javascript"><span class="token punctuation">{</span>log<span class="token punctuation">}</span></span> <span class="token language-javascript"><span class="token punctuation">{</span>color_scale<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableInset</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>inset<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>grid-row: 3;<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">let:</span>active_element</span><span class="token punctuation">></span></span>
    <span class="token language-javascript"><span class="token punctuation">{</span>#<span class="token keyword">if</span> active_element<span class="token operator">?.</span>name<span class="token punctuation">}</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>
        <span class="token language-javascript"><span class="token punctuation">{</span>active_element<span class="token operator">?.</span>name<span class="token punctuation">}</span></span>: <span class="token language-javascript"><span class="token punctuation">{</span><span class="token function">pretty_num</span><span class="token punctuation">(</span>mp_elem_counts<span class="token punctuation">[</span>active_element<span class="token operator">?.</span>symbol<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
        <span class="token comment">&lt;!-- compute percent of total --></span>
        <span class="token language-javascript"><span class="token punctuation">{</span>#<span class="token keyword">if</span> mp_elem_counts<span class="token punctuation">[</span>active_element<span class="token operator">?.</span>symbol<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">}</span></span>
          (<span class="token language-javascript"><span class="token punctuation">{</span><span class="token function">pretty_num</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mp_elem_counts<span class="token punctuation">[</span>active_element<span class="token operator">?.</span>symbol<span class="token punctuation">]</span> <span class="token operator">/</span> total<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>%)
        <span class="token language-javascript"><span class="token punctuation">{</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token punctuation">}</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span>
    <span class="token language-javascript"><span class="token punctuation">{</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token punctuation">}</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableInset</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PeriodicTable</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ColorBar</span> <span class="token attr-name">range=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token function">extent</span><span class="token punctuation">(</span>heatmap_values<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token language-javascript"><span class="token punctuation">{</span>color_scale<span class="token punctuation">}</span></span> <span class="token attr-name">tick_labels=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width: 100%; margin: 2em 1em;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>`,o;return{c(){s=new Ls(!1),o=X(),this.h()},l(t){s=Is(t,!1),o=X(),this.h()},h(){s.a=o},m(t,a){s.m(n,t,a),P(t,o,a)},p:Os,d(t){t&&(d(o),s.d())}}}function jo(e){let s;const n=e[0].default,o=Q(n,e,e[1],ys),t=o||Ao();return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,c){t&&t.m(a,c),s=!0},p(a,c){o&&o.p&&(!s||c&2)&&x(o,n,a,a[1],s?ns(n,a[1],c,wo):ss(a[1]),ys)},i(a){s||(C(t,a),s=!0)},o(a){T(t,a),s=!1},d(a){t&&t.d(a)}}}var Bs;function Ho(e){let s,n,o;return n=new Ws({props:{src:String.raw(Bs||(Bs=_s([`<script>
import { PeriodicTable, TableInset, ColorBar, ColorScaleSelect } from '$lib'
import { pretty_num } from '$lib/labels'
import Multiselect from 'svelte-multiselect'
import { RadioButtons, Toggle } from 'svelte-zoo'
import mp_elem_counts from './mp-element-counts.json'
import wbm_elem_counts from './wbm-element-counts.json'
import { extent } from 'd3-array'
let log = true // log color scale
let data = \`MP\`
let color_scale = 'Viridis'
$: heatmap_values = Object.values(data == \`WBM\` ? wbm_elem_counts : mp_elem_counts)
$: total = heatmap_values.reduce((a, b) => a + b, 0)
<\/script>
<h2>{data == 'MP' ? 'Materials Project' : 'WBM'} Element Heatmap</h2>
<section>
<span>Data set &ensp; <RadioButtons options={[\`MP\`, \`WBM\`]} bind:selected={data} /></span>
<span>Log color scale <Toggle bind:checked={log} /></span>
<ColorScaleSelect bind:value={color_scale} selected={[color_scale]} />
</section>
<PeriodicTable {heatmap_values} {log} {color_scale}>
<TableInset slot="inset" style="grid-row: 3;" let:active_element>
{#if active_element?.name}
<strong>
{active_element?.name}: {pretty_num(mp_elem_counts[active_element?.symbol])}
<!-- compute percent of total -->
{#if mp_elem_counts[active_element?.symbol] > 0}
({pretty_num((mp_elem_counts[active_element?.symbol] / total) * 100)}%)
{/if}
</strong>
{/if}
</TableInset>
</PeriodicTable>
<ColorBar range={extent(heatmap_values)} {color_scale} tick_labels={5} style="width: 100%; margin: 2em 1em;" />`],[`<script>
import { PeriodicTable, TableInset, ColorBar, ColorScaleSelect } from '$lib'
import { pretty_num } from '$lib/labels'
import Multiselect from 'svelte-multiselect'
import { RadioButtons, Toggle } from 'svelte-zoo'
import mp_elem_counts from './mp-element-counts.json'
import wbm_elem_counts from './wbm-element-counts.json'
import { extent } from 'd3-array'
let log = true // log color scale
let data = \\\`MP\\\`
let color_scale = 'Viridis'
$: heatmap_values = Object.values(data == \\\`WBM\\\` ? wbm_elem_counts : mp_elem_counts)
$: total = heatmap_values.reduce((a, b) => a + b, 0)
<\/script>
<h2>{data == 'MP' ? 'Materials Project' : 'WBM'} Element Heatmap</h2>
<section>
<span>Data set &ensp; <RadioButtons options={[\\\`MP\\\`, \\\`WBM\\\`]} bind:selected={data} /></span>
<span>Log color scale <Toggle bind:checked={log} /></span>
<ColorScaleSelect bind:value={color_scale} selected={[color_scale]} />
</section>
<PeriodicTable {heatmap_values} {log} {color_scale}>
<TableInset slot="inset" style="grid-row: 3;" let:active_element>
{#if active_element?.name}
<strong>
{active_element?.name}: {pretty_num(mp_elem_counts[active_element?.symbol])}
<!-- compute percent of total -->
{#if mp_elem_counts[active_element?.symbol] > 0}
({pretty_num((mp_elem_counts[active_element?.symbol] / total) * 100)}%)
{/if}
</strong>
{/if}
</TableInset>
</PeriodicTable>
<ColorBar range={extent(heatmap_values)} {color_scale} tick_labels={5} style="width: 100%; margin: 2em 1em;" />`]))),meta:{Wrapper:"svelte-zoo/CodeExample.svelte",filename:"/src/routes/(demos)/color-scales/+page.md",pkg:"elementari",repo:"https://github.com/elmtru/elementaru",hideStyle:!0,example:!0,stackblitz:!0},$$slots:{code:[jo],example:[Ro]},$$scope:{ctx:e}}}),{c(){s=B("div"),L(n.$$.fragment)},l(t){s=w(t,"DIV",{});var a=R(s);I(n.$$.fragment,a),a.forEach(d)},m(t,a){P(t,s,a),O(n,s,null),o=!0},p(t,[a]){const c={};a&2&&(c.$$scope={dirty:a,ctx:t}),n.$set(c)},i(t){o||(C(n.$$.fragment,t),o=!0)},o(t){T(n.$$.fragment,t),o=!1},d(t){t&&d(s),F(n)}}}function Eo(e,s,n){let{$$slots:o={},$$scope:t}=s;return e.$$set=a=>{"$$scope"in a&&n(1,t=a.$$scope)},[o,t]}class Lo extends ps{constructor(s){super(),us(this,s,Eo,Ho,ls,{})}}const Xo=Object.freeze(Object.defineProperty({__proto__:null,default:Lo},Symbol.toStringTag,{value:"Module"}));export{Lo as P,Xo as _};
