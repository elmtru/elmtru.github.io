import{s as ie,e as Y,N as L,a as re,b as x,d as C,O as z,f as fe,g as d,h as c,i as A,j as P,P as I,t as $,o as W,p as ne,E as st,J as Te,K as Ae,q as je,R as Fe,y as D,z as H,Q as V,T as ot,ai as rt,C as ft,n as ae,l as he,M as de,r as at,c as _t,u as ut,k as ht,m as ct}from"./scheduler.DSZzDcX6.js";import{S as se,i as oe,n as mt,l as gt,f as Se,b as ve,d as Ee,m as we,t as R,a as Z,e as Me,g as te,c as le}from"./index.Ck97c3H1.js";import{$ as Ue}from"./ru.V9lQHOSW.js";import{g as dt,f as Oe,p as Pe,i as bt}from"./index.CdZlA5Fd.js";import{g as yt,a as pt}from"./spread.CgU5AtxT.js";import{e as U}from"./each.CNH9y-bx.js";import{d as kt}from"./PeriodicTable.CduioAQd.js";import{b as vt,l as ce}from"./ColorScaleSelect.DvFGpSFx.js";import{e as be}from"./extent.Ccx1MofX.js";import{a as Ye}from"./index.D4uN2bNE.js";import{w as Et}from"./index.PMJqI94-.js";import{i as Le}from"./MultiSelect.BoA4L_L7.js";function wt(t){let e,l=t[0].number+"",n,i,s=t[2]("element.name."+t[0].name)+"",o,u,r,a=t[2]("category."+t[0].category)+"",_;return{c(){e=Y("h2"),n=L(l),i=L(" - "),o=L(s),u=re(),r=Y("small"),_=L(a),this.h()},l(f){e=x(f,"H2",{style:!0,class:!0});var h=C(e);n=z(h,l),i=z(h," - "),o=z(h,s),u=fe(h),r=x(h,"SMALL",{class:!0});var v=C(r);_=z(v,a),v.forEach(d),h.forEach(d),this.h()},h(){c(r,"class","svelte-1e3zk1h"),c(e,"style",t[1]),c(e,"class","svelte-1e3zk1h")},m(f,h){A(f,e,h),P(e,n),P(e,i),P(e,o),P(e,u),P(e,r),P(r,_)},p(f,[h]){h&1&&l!==(l=f[0].number+"")&&I(n,l),h&5&&s!==(s=f[2]("element.name."+f[0].name)+"")&&I(o,s),h&5&&a!==(a=f[2]("category."+f[0].category)+"")&&I(_,a),h&2&&c(e,"style",f[1])},i:$,o:$,d(f){f&&d(e)}}}function Mt(t,e,l){let n;W(t,Ue,o=>l(2,n=o));let{element:i}=e,{style:s=""}=e;return t.$$set=o=>{"element"in o&&l(0,i=o.element),"style"in o&&l(1,s=o.style)},[i,s,n]}class fl extends se{constructor(e){super(),oe(this,e,Mt,wt,ie,{element:0,style:1})}}function ye(t,e){if(t===e||t!==t)return()=>t;const l=typeof t;if(l!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((i,s)=>ye(t[s],i));return i=>n.map(s=>s(i))}if(l==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Le(t)&&Le(e)){t=t.getTime(),e=e.getTime();const s=e-t;return o=>new Date(t+o*s)}const n=Object.keys(e),i={};return n.forEach(s=>{i[s]=ye(t[s],e[s])}),s=>{const o={};return n.forEach(u=>{o[u]=i[u](s)}),o}}if(l==="number"){const n=e-t;return i=>t+i*n}throw new Error(`Cannot interpolate ${l} values`)}function _e(t,e={}){const l=Et(t);let n,i=t;function s(o,u){if(t==null)return l.set(t=o),Promise.resolve();i=o;let r=n,a=!1,{delay:_=0,duration:f=400,easing:h=st,interpolate:v=ye}=ne(ne({},e),u);if(f===0)return r&&(r.abort(),r=null),l.set(t=i),Promise.resolve();const b=mt()+_;let j;return n=gt(T=>{if(T<b)return!0;a||(j=v(t,o),typeof f=="function"&&(f=f(t,o)),a=!0),r&&(r.abort(),r=null);const p=T-b;return p>f?(l.set(t=o),!1):(l.set(t=j(h(p/f))),!0)}),n.promise}return{set:s,update:(o,u)=>s(o(i,t),u),subscribe:l.subscribe}}function Nt(t,e){let l;if(e===void 0)for(const n of t)n!=null&&(l>n||l===void 0&&n>=n)&&(l=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(l>i||l===void 0&&i>=i)&&(l=i)}return l}function ze(t){var T;let e,l=t[12]+"",n,i,s=((T=Oe[t[12]-1])==null?void 0:T.name)+"",o,u,r,a,_,f=Pe(t[5])+"",h,v,b=(t[4]??"")+"",j;return{c(){e=Y("strong"),n=L(l),i=L(" - "),o=L(s),u=re(),r=Y("br"),a=L(t[3]),_=L(" = "),h=L(f),v=re(),j=L(b)},l(p){e=x(p,"STRONG",{});var w=C(e);n=z(w,l),i=z(w," - "),o=z(w,s),w.forEach(d),u=fe(p),r=x(p,"BR",{}),a=z(p,t[3]),_=z(p," = "),h=z(p,f),v=fe(p),j=z(p,b)},m(p,w){A(p,e,w),P(e,n),P(e,i),P(e,o),A(p,u,w),A(p,r,w),A(p,a,w),A(p,_,w),A(p,h,w),A(p,v,w),A(p,j,w)},p(p,w){var E;w&4096&&l!==(l=p[12]+"")&&I(n,l),w&4096&&s!==(s=((E=Oe[p[12]-1])==null?void 0:E.name)+"")&&I(o,s),w&8&&I(a,p[3]),w&32&&f!==(f=Pe(p[5])+"")&&I(h,f),w&16&&b!==(b=(p[4]??"")+"")&&I(j,b)},d(p){p&&(d(e),d(u),d(r),d(a),d(_),d(h),d(v),d(j))}}}function Tt(t){let e,l=t[6]&&ze(t);return{c(){e=Y("div"),l&&l.c(),this.h()},l(n){e=x(n,"DIV",{slot:!0,class:!0});var i=C(e);l&&l.l(i),i.forEach(d),this.h()},h(){c(e,"slot","tooltip"),c(e,"class","svelte-1ddy78a")},m(n,i){A(n,e,i),l&&l.m(e,null)},p(n,i){n[6]?l?l.p(n,i):(l=ze(n),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(n){n&&d(e),l&&l.d()}}}function At(t){let e,l,n,i;const s=[{y:t[5]},{x:[...Array(t[5].length+1).keys()].slice(1)},{x_label:t[2]},t[7]];function o(a){t[8](a)}function u(a){t[9](a)}let r={$$slots:{tooltip:[Tt,({y:a,x:_})=>({5:a,12:_}),({y:a,x:_})=>(a?32:0)|(_?4096:0)]},$$scope:{ctx:t}};for(let a=0;a<s.length;a+=1)r=ne(r,s[a]);return t[1]!==void 0&&(r.tooltip_point=t[1]),t[0]!==void 0&&(r.hovered=t[0]),e=new Jt({props:r}),Te.push(()=>Se(e,"tooltip_point",o)),Te.push(()=>Se(e,"hovered",u)),e.$on("change",t[10]),{c(){ve(e.$$.fragment)},l(a){Ee(e.$$.fragment,a)},m(a,_){we(e,a,_),i=!0},p(a,[_]){const f=_&164?yt(s,[_&32&&{y:a[5]},_&32&&{x:[...Array(a[5].length+1).keys()].slice(1)},_&4&&{x_label:a[2]},_&128&&pt(a[7])]):{};_&12408&&(f.$$scope={dirty:_,ctx:a}),!l&&_&2&&(l=!0,f.tooltip_point=a[1],Ae(()=>l=!1)),!n&&_&1&&(n=!0,f.hovered=a[0],Ae(()=>n=!1)),e.$set(f)},i(a){i||(R(e.$$.fragment,a),i=!0)},o(a){Z(e.$$.fragment,a),i=!1},d(a){Me(e,a)}}}function jt(t,e,l){let n,i;W(t,dt,b=>l(6,n=b)),W(t,Ue,b=>l(11,i=b));let{y:s}=e,{x_label:o=i("Atomic Number")}=e,{y_label:u=""}=e,{y_unit:r=""}=e,{tooltip_point:a=null}=e,{hovered:_=!1}=e;function f(b){a=b,l(1,a),l(6,n),l(0,_),l(5,s)}function h(b){_=b,l(0,_)}function v(b){Fe.call(this,t,b)}return t.$$set=b=>{l(7,e=ne(ne({},e),je(b))),"y"in b&&l(5,s=b.y),"x_label"in b&&l(2,o=b.x_label),"y_label"in b&&l(3,u=b.y_label),"y_unit"in b&&l(4,r=b.y_unit),"tooltip_point"in b&&l(1,a=b.tooltip_point),"hovered"in b&&l(0,_=b.hovered)},t.$$.update=()=>{t.$$.dirty&97&&n!=null&&n.number&&!_&&l(1,a={x:n.number,y:s[n.number-1]})},e=je(e),[_,a,o,u,r,s,n,e,f,h,v]}class al extends se{constructor(e){super(),oe(this,e,jt,At,ie,{y:5,x_label:2,y_label:3,y_unit:4,tooltip_point:1,hovered:0})}}function F(t){return function(){return t}}const pe=Math.PI,ke=2*pe,K=1e-6,St=ke-K;function xe(t){this._+=t[0];for(let e=1,l=t.length;e<l;++e)this._+=arguments[e]+t[e]}function Ot(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xe;const l=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*l)/l+n[i]}}class Pt{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xe:Ot(e)}moveTo(e,l){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+l}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,l){this._append`L${this._x1=+e},${this._y1=+l}`}quadraticCurveTo(e,l,n,i){this._append`Q${+e},${+l},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,l,n,i,s,o){this._append`C${+e},${+l},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,l,n,i,s){if(e=+e,l=+l,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,r=n-e,a=i-l,_=o-e,f=u-l,h=_*_+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=l}`;else if(h>K)if(!(Math.abs(f*r-a*_)>K)||!s)this._append`L${this._x1=e},${this._y1=l}`;else{let v=n-o,b=i-u,j=r*r+a*a,T=v*v+b*b,p=Math.sqrt(j),w=Math.sqrt(h),E=s*Math.tan((pe-Math.acos((j+h-T)/(2*p*w)))/2),M=E/w,k=E/p;Math.abs(M-1)>K&&this._append`L${e+M*_},${l+M*f}`,this._append`A${s},${s},0,0,${+(f*v>_*b)},${this._x1=e+k*r},${this._y1=l+k*a}`}}arc(e,l,n,i,s,o){if(e=+e,l=+l,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),r=n*Math.sin(i),a=e+u,_=l+r,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${a},${_}`:(Math.abs(this._x1-a)>K||Math.abs(this._y1-_)>K)&&this._append`L${a},${_}`,n&&(h<0&&(h=h%ke+ke),h>St?this._append`A${n},${n},0,1,${f},${e-u},${l-r}A${n},${n},0,1,${f},${this._x1=a},${this._y1=_}`:h>K&&this._append`A${n},${n},0,${+(h>=pe)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=l+n*Math.sin(s)}`)}rect(e,l,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+l}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Lt(t){let e=3;return t.digits=function(l){if(!arguments.length)return e;if(l==null)e=null;else{const n=Math.floor(l);if(!(n>=0))throw new RangeError(`invalid digits: ${l}`);e=n}return t},()=>new Pt(e)}function zt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $e(t){this._context=t}$e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ct(t){return new $e(t)}function qt(t){return t[0]}function Rt(t){return t[1]}function Dt(t,e){var l=F(!0),n=null,i=Ct,s=null,o=Lt(u);t=typeof t=="function"?t:t===void 0?qt:F(t),e=typeof e=="function"?e:e===void 0?Rt:F(e);function u(r){var a,_=(r=zt(r)).length,f,h=!1,v;for(n==null&&(s=i(v=o())),a=0;a<=_;++a)!(a<_&&l(f=r[a],a,r))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,a,r),+e(f,a,r));if(v)return s=null,v+""||null}return u.x=function(r){return arguments.length?(t=typeof r=="function"?r:F(+r),u):t},u.y=function(r){return arguments.length?(e=typeof r=="function"?r:F(+r),u):e},u.defined=function(r){return arguments.length?(l=typeof r=="function"?r:F(!!r),u):l},u.curve=function(r){return arguments.length?(i=r,n!=null&&(s=i(n)),u):i},u.context=function(r){return arguments.length?(r==null?n=s=null:s=i(n=r),u):n},u}function Ce(t){return t<0?-1:1}function qe(t,e,l){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(l-t._y1)/(i||n<0&&-0),u=(s*i+o*n)/(n+i);return(Ce(s)+Ce(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function Re(t,e){var l=t._x1-t._x0;return l?(3*(t._y1-t._y0)/l-e)/2:e}function me(t,e,l){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,u=(s-n)/3;t._context.bezierCurveTo(n+u,i+u*e,s-u,o-u*l,s,o)}function ue(t){this._context=t}ue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:me(this,this._t0,Re(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var l=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,me(this,Re(this,l=qe(this,t,e)),l);break;default:me(this,this._t0,l=qe(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=l}}};Object.create(ue.prototype).point=function(t,e){ue.prototype.point.call(this,e,t)};function Ht(t){return new ue(t)}function It(t){let e,l,n;return{c(){e=D("path"),l=re(),n=D("path"),this.h()},l(i){e=H(i,"path",{d:!0,fill:!0}),C(e).forEach(d),l=fe(i),n=H(i,"path",{d:!0}),C(n).forEach(d),this.h()},h(){c(e,"d",t[4]),c(e,"fill","none"),V(e,"stroke",t[0]),V(e,"stroke-width",t[1]),c(n,"d",t[5]),V(n,"fill",t[2]),V(n,"stroke",t[3])},m(i,s){A(i,e,s),A(i,l,s),A(i,n,s)},p(i,[s]){s&16&&c(e,"d",i[4]),s&1&&V(e,"stroke",i[0]),s&2&&V(e,"stroke-width",i[1]),s&32&&c(n,"d",i[5]),s&4&&V(n,"fill",i[2]),s&8&&V(n,"stroke",i[3])},i:$,o:$,d(i){i&&(d(e),d(l),d(n))}}}function Xt(t,e,l){let n,i,s,o,u,r,a,{line_color:_="rgba(255, 255, 255, 0.5)"}=e,{line_width:f=2}=e,{area_color:h="rgba(255, 255, 255, 0.1)"}=e,{area_stroke:v=null}=e,{tween_duration:b=600}=e,{origin:j}=e,{points:T}=e;const p=Dt().x(k=>k[0]).y(k=>k[1]).curve(Ht),w={duration:b,easing:Ye,interpolate:bt},E=_e("",w);W(t,E,k=>l(4,r=k));const M=_e("",w);return W(t,M,k=>l(5,a=k)),t.$$set=k=>{"line_color"in k&&l(0,_=k.line_color),"line_width"in k&&l(1,f=k.line_width),"area_color"in k&&l(2,h=k.area_color),"area_stroke"in k&&l(3,v=k.area_stroke),"tween_duration"in k&&l(8,b=k.tween_duration),"origin"in k&&l(9,j=k.origin),"points"in k&&l(10,T=k.points)},t.$$.update=()=>{t.$$.dirty&1024&&l(13,[n,i]=be(T.map(k=>k[0])),n,(l(14,i),l(10,T))),t.$$.dirty&1024&&l(15,s=p(T)),t.$$.dirty&32768&&E.set(s),t.$$.dirty&1536&&l(12,o=j[1]??Nt(T.map(k=>k[1]))),t.$$.dirty&61440&&l(11,u=`${s}L${i},${o}L${n},${o}Z`),t.$$.dirty&2048&&M.set(u)},[_,f,h,v,r,a,E,M,b,j,T,u,o,n,i,s]}class Zt extends se{constructor(e){super(),oe(this,e,Xt,It,ie,{line_color:0,line_width:1,area_color:2,area_stroke:3,tween_duration:8,origin:9,points:10})}}const Bt=t=>({x:t[0]&1,y:t[0]&1}),De=t=>({x:t[12],y:t[13]});function ge(t){const e=t.slice(),l=e[0];e[12]=l.x,e[13]=l.y;const n=[e[16](e[12]),e[17](e[13])];return e[36]=n[0],e[37]=n[1],e}function He(t,e,l){const n=t.slice();return n[38]=e[l],n[40]=l,n}function Ie(t,e,l){const n=t.slice();return n[38]=e[l],n}function Xe(t,e,l){const n=t.slice();return n[12]=e[l][0],n[13]=e[l][1],n[43]=e[l][2],n}function Ze(t){let e,l=t[11].includes("line"),n,i=t[11].includes("points"),s,o,u=(t[7]??"")+"",r,a,_,f,h,v=(t[9]??"")+"",b,j,T,p,w,E=l&&Be(t),M=i&&Ge(t),k=U(t[16].ticks()),S=[];for(let g=0;g<k.length;g+=1)S[g]=Ve(Ie(t,k,g));let G=U(t[17].ticks(5)),q=[];for(let g=0;g<G.length;g+=1)q[g]=Ke(He(t,G,g));let O=t[0]&&We(ge(t));return{c(){e=D("svg"),E&&E.c(),n=ae(),M&&M.c(),s=D("g");for(let g=0;g<S.length;g+=1)S[g].c();o=D("text"),r=L(u),f=D("g");for(let g=0;g<q.length;g+=1)q[g].c();h=D("text"),b=L(v),O&&O.c(),this.h()},l(g){e=H(g,"svg",{role:!0,class:!0});var N=C(e);E&&E.l(N),n=ae(),M&&M.l(N),s=H(N,"g",{class:!0});var y=C(s);for(let B=0;B<S.length;B+=1)S[B].l(y);o=H(y,"text",{x:!0,y:!0,class:!0});var Q=C(o);r=z(Q,u),Q.forEach(d),y.forEach(d),f=H(N,"g",{class:!0});var ee=C(f);for(let B=0;B<q.length;B+=1)q[B].l(ee);h=H(ee,"text",{x:!0,y:!0,transform:!0,class:!0});var J=C(h);b=z(J,v),J.forEach(d),ee.forEach(d),O&&O.l(N),N.forEach(d),this.h()},h(){c(o,"x",a=t[14]/2),c(o,"y",_=t[15]+5-t[8]),c(o,"class","label x svelte-10hha9v"),c(s,"class","x-axis svelte-10hha9v"),c(h,"x",j=-t[15]/2),c(h,"y",13),c(h,"transform","rotate(-90)"),c(h,"class","label y svelte-10hha9v"),c(f,"class","y-axis svelte-10hha9v"),c(e,"role","img"),c(e,"class","svelte-10hha9v")},m(g,N){A(g,e,N),E&&E.m(e,null),P(e,n),M&&M.m(e,null),P(e,s);for(let y=0;y<S.length;y+=1)S[y]&&S[y].m(s,null);P(s,o),P(o,r),P(e,f);for(let y=0;y<q.length;y+=1)q[y]&&q[y].m(f,null);P(f,h),P(h,b),O&&O.m(e,null),T=!0,p||(w=[he(e,"mousemove",t[22]),he(e,"mouseleave",t[32]),he(e,"mouseleave",t[31])],p=!0)},p(g,N){if(N[0]&2048&&(l=g[11].includes("line")),l?E?(E.p(g,N),N[0]&2048&&R(E,1)):(E=Be(g),E.c(),R(E,1),E.m(e,n)):E&&(te(),Z(E,1,1,()=>{E=null}),le()),N[0]&2048&&(i=g[11].includes("points")),i?M?(M.p(g,N),N[0]&2048&&R(M,1)):(M=Ge(g),M.c(),R(M,1),M.m(e,s)):M&&(te(),Z(M,1,1,()=>{M=null}),le()),N[0]&2195480){k=U(g[16].ticks());let y;for(y=0;y<k.length;y+=1){const Q=Ie(g,k,y);S[y]?S[y].p(Q,N):(S[y]=Ve(Q),S[y].c(),S[y].m(s,o))}for(;y<S.length;y+=1)S[y].d(1);S.length=k.length}if((!T||N[0]&128)&&u!==(u=(g[7]??"")+"")&&I(r,u),(!T||N[0]&16384&&a!==(a=g[14]/2))&&c(o,"x",a),(!T||N[0]&33024&&_!==(_=g[15]+5-g[8]))&&c(o,"y",_),N[0]&2245728){G=U(g[17].ticks(5));let y;for(y=0;y<G.length;y+=1){const Q=He(g,G,y);q[y]?q[y].p(Q,N):(q[y]=Ke(Q),q[y].c(),q[y].m(f,h))}for(;y<q.length;y+=1)q[y].d(1);q.length=G.length}(!T||N[0]&512)&&v!==(v=(g[9]??"")+"")&&I(b,v),(!T||N[0]&32768&&j!==(j=-g[15]/2))&&c(h,"x",j),g[0]?O?(O.p(ge(g),N),N[0]&1&&R(O,1)):(O=We(ge(g)),O.c(),R(O,1),O.m(e,null)):O&&(te(),Z(O,1,1,()=>{O=null}),le())},i(g){T||(R(E),R(M),R(O),T=!0)},o(g){Z(E),Z(M),Z(O),T=!1},d(g){g&&d(e),E&&E.d(),M&&M.d(),de(S,g),de(q,g),O&&O.d(),p=!1,at(w)}}}function Be(t){let e,l;return e=new Zt({props:{points:t[20],origin:[t[16](t[19][0]),t[17](t[18][0])]}}),{c(){ve(e.$$.fragment)},l(n){Ee(e.$$.fragment,n)},m(n,i){we(e,n,i),l=!0},p(n,i){const s={};i[0]&1048576&&(s.points=n[20]),i[0]&983040&&(s.origin=[n[16](n[19][0]),n[17](n[18][0])]),e.$set(s)},i(n){l||(R(e.$$.fragment,n),l=!0)},o(n){Z(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function Ge(t){let e,l,n=U(t[20]),i=[];for(let o=0;o<n.length;o+=1)i[o]=Qe(Xe(t,n,o));const s=o=>Z(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=ae()},l(o){for(let u=0;u<i.length;u+=1)i[u].l(o);e=ae()},m(o,u){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(o,u);A(o,e,u),l=!0},p(o,u){if(u[0]&1048576){n=U(o[20]);let r;for(r=0;r<n.length;r+=1){const a=Xe(o,n,r);i[r]?(i[r].p(a,u),R(i[r],1)):(i[r]=Qe(a),i[r].c(),R(i[r],1),i[r].m(e.parentNode,e))}for(te(),r=n.length;r<i.length;r+=1)s(r);le()}},i(o){if(!l){for(let u=0;u<n.length;u+=1)R(i[u]);l=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)Z(i[u]);l=!1},d(o){o&&d(e),de(i,o)}}}function Qe(t){let e,l;return e=new Ft({props:{x:t[12],y:t[13],fill:t[43]}}),{c(){ve(e.$$.fragment)},l(n){Ee(e.$$.fragment,n)},m(n,i){we(e,n,i),l=!0},p(n,i){const s={};i[0]&1048576&&(s.x=n[12]),i[0]&1048576&&(s.y=n[13]),i[0]&1048576&&(s.fill=n[43]),e.$set(s)},i(n){l||(R(e.$$.fragment,n),l=!0)},o(n){Z(e.$$.fragment,n),l=!1},d(n){Me(e,n)}}}function Ve(t){let e,l,n,i,s,o=t[38]+"",u,r,a;return{c(){e=D("g"),l=D("line"),s=D("text"),u=L(o),this.h()},l(_){e=H(_,"g",{class:!0,transform:!0});var f=C(e);l=H(f,"line",{y1:!0,y2:!0,class:!0}),C(l).forEach(d),s=H(f,"text",{y:!0,class:!0});var h=C(s);u=z(h,o),h.forEach(d),f.forEach(d),this.h()},h(){c(l,"y1",n=-t[15]+t[3]),c(l,"y2",i=-t[4]),c(l,"class","svelte-10hha9v"),c(s,"y",r=-t[4]+t[21].x),c(s,"class","svelte-10hha9v"),c(e,"class","tick"),c(e,"transform",a="translate("+t[16](t[38])+", "+t[15]+")")},m(_,f){A(_,e,f),P(e,l),P(e,s),P(s,u)},p(_,f){f[0]&32776&&n!==(n=-_[15]+_[3])&&c(l,"y1",n),f[0]&16&&i!==(i=-_[4])&&c(l,"y2",i),f[0]&65536&&o!==(o=_[38]+"")&&I(u,o),f[0]&16&&r!==(r=-_[4]+_[21].x)&&c(s,"y",r),f[0]&98304&&a!==(a="translate("+_[16](_[38])+", "+_[15]+")")&&c(e,"transform",a)},d(_){_&&d(e)}}}function Je(t){let e,l;return{c(){e=L("‌ "),l=L(t[10])},l(n){e=z(n,"‌ "),l=z(n,t[10])},m(n,i){A(n,e,i),A(n,l,i)},p(n,i){i[0]&1024&&I(l,n[10])},d(n){n&&(d(e),d(l))}}}function Ke(t){let e,l,n,i,s=t[38]+"",o,u=t[10]&&t[40]===t[17].ticks(5).length-1,r,a,_=u&&Je(t);return{c(){e=D("g"),l=D("line"),i=D("text"),o=L(s),_&&_.c(),this.h()},l(f){e=H(f,"g",{class:!0,transform:!0});var h=C(e);l=H(h,"line",{x1:!0,x2:!0,class:!0}),C(l).forEach(d),i=H(h,"text",{x:!0,class:!0});var v=C(i);o=z(v,s),_&&_.l(v),v.forEach(d),h.forEach(d),this.h()},h(){c(l,"x1",t[5]),c(l,"x2",n=t[14]-t[6]),c(l,"class","svelte-10hha9v"),c(i,"x",r=t[5]-t[21].y),c(i,"class","svelte-10hha9v"),c(e,"class","tick"),c(e,"transform",a="translate(0, "+t[17](t[38])+")")},m(f,h){A(f,e,h),P(e,l),P(e,i),P(i,o),_&&_.m(i,null)},p(f,h){h[0]&32&&c(l,"x1",f[5]),h[0]&16448&&n!==(n=f[14]-f[6])&&c(l,"x2",n),h[0]&131072&&s!==(s=f[38]+"")&&I(o,s),h[0]&132096&&(u=f[10]&&f[40]===f[17].ticks(5).length-1),u?_?_.p(f,h):(_=Je(f),_.c(),_.m(i,null)):_&&(_.d(1),_=null),h[0]&32&&r!==(r=f[5]-f[21].y)&&c(i,"x",r),h[0]&131072&&a!==(a="translate(0, "+f[17](f[38])+")")&&c(e,"transform",a)},d(f){f&&d(e),_&&_.d()}}}function We(t){let e,l,n,i,s,o,u;const r=t[30].tooltip,a=_t(r,t,t[29],De),_=a||Gt(t);return{c(){e=D("circle"),i=D("foreignObject"),_&&_.c(),this.h()},l(f){e=H(f,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),C(e).forEach(d),i=H(f,"foreignObject",{x:!0,y:!0,class:!0});var h=C(i);_&&_.l(h),h.forEach(d),this.h()},h(){c(e,"cx",l=t[36]),c(e,"cy",n=t[37]),c(e,"r","5"),c(e,"fill","orange"),c(i,"x",s=t[36]+5),c(i,"y",o=t[37]),c(i,"class","svelte-10hha9v")},m(f,h){A(f,e,h),A(f,i,h),_&&_.m(i,null),u=!0},p(f,h){(!u||h[0]&196609&&l!==(l=f[36]))&&c(e,"cx",l),(!u||h[0]&196609&&n!==(n=f[37]))&&c(e,"cy",n),a?a.p&&(!u||h[0]&536870913)&&ut(a,r,f,f[29],u?ct(r,f[29],h,Bt):ht(f[29]),De):_&&_.p&&(!u||h[0]&1)&&_.p(f,u?h:[-1,-1]),(!u||h[0]&196609&&s!==(s=f[36]+5))&&c(i,"x",s),(!u||h[0]&196609&&o!==(o=f[37]))&&c(i,"y",o)},i(f){u||(R(_,f),u=!0)},o(f){Z(_,f),u=!1},d(f){f&&(d(e),d(i)),_&&_.d(f)}}}function Gt(t){let e,l=t[12]+"",n,i,s=t[13]+"",o,u;return{c(){e=L("("),n=L(l),i=L(", "),o=L(s),u=L(")")},l(r){e=z(r,"("),n=z(r,l),i=z(r,", "),o=z(r,s),u=z(r,")")},m(r,a){A(r,e,a),A(r,n,a),A(r,i,a),A(r,o,a),A(r,u,a)},p(r,a){a[0]&1&&l!==(l=r[12]+"")&&I(n,l),a[0]&1&&s!==(s=r[13]+"")&&I(o,s)},d(r){r&&(d(e),d(n),d(i),d(o),d(u))}}}function Qt(t){let e,l,n,i=t[14]&&t[15]&&Ze(t);return{c(){e=Y("div"),i&&i.c(),this.h()},l(s){e=x(s,"DIV",{class:!0,style:!0});var o=C(e);i&&i.l(o),o.forEach(d),this.h()},h(){c(e,"class","scatter svelte-10hha9v"),c(e,"style",t[2]),ot(()=>t[33].call(e))},m(s,o){A(s,e,o),i&&i.m(e,null),l=rt(e,t[33].bind(e)),n=!0},p(s,o){s[14]&&s[15]?i?(i.p(s,o),o[0]&49152&&R(i,1)):(i=Ze(s),i.c(),R(i,1),i.m(e,null)):i&&(te(),Z(i,1,1,()=>{i=null}),le()),(!n||o[0]&4)&&c(e,"style",s[2])},i(s){n||(R(i),n=!0)},o(s){Z(i),n=!1},d(s){s&&d(e),i&&i.d(),l()}}}function Vt(t,e,l){let n,i,s,o,u,r,a,{$$slots:_={},$$scope:f}=e,{style:h=""}=e,{x_lim:v=[null,null]}=e,{y_lim:b=[null,null]}=e,{pad_top:j=5}=e,{pad_bottom:T=30}=e,{pad_left:p=50}=e,{pad_right:w=20}=e,{x_label:E=""}=e,{x_label_yshift:M=0}=e,{x:k=[]}=e,{color_scale:S=null}=e,{y:G=[]}=e,{y_label:q=""}=e,{y_unit:O=""}=e,{tooltip_point:g=null}=e,{hovered:N=!1}=e,{markers:y="line+points"}=e;const Q=ft(),ee={x:15,y:20};let J,B,Ne;const et=vt(({x:m})=>m).right;function tt(m){l(1,N=!0);let X=et(n,o.invert(m.offsetX));X<n.length&&(l(0,g=n[X]),Q("change",g))}function lt(m){Fe.call(this,t,m)}const nt=()=>l(1,N=!1);function it(){J=this.clientWidth,B=this.clientHeight,l(14,J),l(15,B)}return t.$$set=m=>{"style"in m&&l(2,h=m.style),"x_lim"in m&&l(23,v=m.x_lim),"y_lim"in m&&l(24,b=m.y_lim),"pad_top"in m&&l(3,j=m.pad_top),"pad_bottom"in m&&l(4,T=m.pad_bottom),"pad_left"in m&&l(5,p=m.pad_left),"pad_right"in m&&l(6,w=m.pad_right),"x_label"in m&&l(7,E=m.x_label),"x_label_yshift"in m&&l(8,M=m.x_label_yshift),"x"in m&&l(12,k=m.x),"color_scale"in m&&l(25,S=m.color_scale),"y"in m&&l(13,G=m.y),"y_label"in m&&l(9,q=m.y_label),"y_unit"in m&&l(10,O=m.y_unit),"tooltip_point"in m&&l(0,g=m.tooltip_point),"hovered"in m&&l(1,N=m.hovered),"markers"in m&&l(11,y=m.markers),"$$scope"in m&&l(29,f=m.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&12288&&l(26,n=k.map((m,X)=>({x:m,y:G[X]}))),t.$$.dirty[0]&75497472&&l(19,i=be(n,({x:m})=>m).map((m,X)=>v[X]??m)),t.$$.dirty[0]&83886080&&l(18,s=be(n,({y:m})=>m).map((m,X)=>b[X]??m)),t.$$.dirty[0]&540768&&l(16,o=ce().domain(i).range([p,J-w])),t.$$.dirty[0]&294936&&l(17,u=ce().domain(s).range([B-T,j])),t.$$.dirty[0]&33554432&&l(28,r=typeof S=="string"?kt[`interpolate${S}`]:S),t.$$.dirty[0]&262144&&l(27,a=ce().domain(s).range([0,1])),t.$$.dirty[0]&469958656&&l(20,Ne=n==null?void 0:n.filter(({x:m,y:X})=>!(isNaN(m)||isNaN(X)||m===null||X===null)).map(({x:m,y:X})=>[o(m),u(X),r==null?void 0:r(a(X))]))},[g,N,h,j,T,p,w,E,M,q,O,y,k,G,J,B,o,u,s,i,Ne,ee,tt,v,b,S,n,a,r,f,_,lt,nt,it]}class Jt extends se{constructor(e){super(),oe(this,e,Vt,Qt,ie,{style:2,x_lim:23,y_lim:24,pad_top:3,pad_bottom:4,pad_left:5,pad_right:6,x_label:7,x_label_yshift:8,x:12,color_scale:25,y:13,y_label:9,y_unit:10,tooltip_point:0,hovered:1,markers:11},null,[-1,-1])}}function Kt(t){let e,l,n;return{c(){e=D("g"),l=D("circle"),this.h()},l(i){e=H(i,"g",{transform:!0,fill:!0});var s=C(e);l=H(s,"circle",{cx:!0,cy:!0,r:!0,class:!0}),C(l).forEach(d),s.forEach(d),this.h()},h(){c(l,"cx","0"),c(l,"cy","0"),c(l,"r","3"),c(l,"class","svelte-7sd2f9"),c(e,"transform",n="translate("+t[1]+" "+t[2]+")"),c(e,"fill",t[0])},m(i,s){A(i,e,s),P(e,l)},p(i,[s]){s&6&&n!==(n="translate("+i[1]+" "+i[2]+")")&&c(e,"transform",n),s&1&&c(e,"fill",i[0])},i:$,o:$,d(i){i&&d(e)}}}function Wt(t,e,l){let n,i,{x:s}=e,{y:o}=e,{fill:u="gray"}=e,{tween_duration:r=600}=e;const a={duration:r,easing:Ye},_=_e(0,a);W(t,_,h=>l(1,n=h));const f=_e(0,a);return W(t,f,h=>l(2,i=h)),t.$$set=h=>{"x"in h&&l(5,s=h.x),"y"in h&&l(6,o=h.y),"fill"in h&&l(0,u=h.fill),"tween_duration"in h&&l(7,r=h.tween_duration)},t.$$.update=()=>{t.$$.dirty&32&&_.set(s),t.$$.dirty&64&&f.set(o)},[u,n,i,_,f,s,o,r]}class Ft extends se{constructor(e){super(),oe(this,e,Wt,Kt,ie,{x:5,y:6,fill:0,tween_duration:7})}}export{fl as E,al as a};
